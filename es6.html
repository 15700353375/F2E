<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>es6</title>
  </head>
  <body></body>
  <script>
    function* myGenerator() {
      console.log('我执行了第一个yeild')
      yield 'hellow'
      console.log('我执行了第二个yeild')
      yield 'world'
      console.log('ending')
      return 'ending'
    }

    var hw = myGenerator()
    console.log(hw.next())
    console.log(hw.next())
    console.log(hw.next())

    function* sum() {
      yield 100 + 200
    }
    var sum1 = sum()
    console.log(sum1.next())

    console.group('------------------map-----------------')
    const m = new Map()
    const o = { name: 'Arya' }
    m.set(o, 'content')
    console.log(m, m.get(o))
    console.log(m.has(o))
    m.delete(o)
    console.log(m.size)
    // map可以接收一个表示键值对的数组
    const Arr1 = [
      ['name', 'Arya'],
      ['age', 25],
    ]
    const m2 = new Map(Arr1)
    console.log(m2, m2.size, m2.has('name'), m2.get('name'))

    const m3 = new Map()
    Arr1.forEach(([key, value]) => {
      m3.set(key, value)
    })
    console.log(m3)

    // set 和map都可以用来生成新的map
    let set = new Set([
      ['name', 'Arya'],
      ['title', 'es6'],
    ])
    console.log(set)
    const m4 = new Map(set)
    console.log(m4, m4.get('name'))

    let mm = new Map([['title', 'study es6']])
    const m5 = new Map(mm)
    console.log(m5)

    // 在map中只要内存地址不一样就视为两个键
    // example
    m4.set(['a'], 'aa')
    console.log(m4.get(['a'])) //undefined
    let b = ['b']
    m4.set(b, 'bb')
    console.log(m4.get(b)) //bb

    // 只要两个值严格相等、map将其视为一个键、除了NaN
    m4.set(NaN, 11)
    console.log(m4.get(NaN))

    // Map的map方法

    const map0 = new Map().set(1, 'a').set(2, 'b').set(3, 'c')
    const m6 = new Map([...map0].map(([k, v]) => [k * 2, '_' + v]))
    console.log(map0, m6)
    m6.forEach((value, key, map) => {
      console.log(value, key, map)
    })

    let obj = { a: 1, b: 2 }
    console.log(Object.entries(obj))
    let map = new Map(Object.entries(obj))
    console.log(typeof(map),Object.prototype.toString.call(map))

    // 去除数组重复元素的方法
    console.log([...new Set([1,22,22,3,4])])

    const set5 = new Set([
        ['foo', 1],
        ['bar', 2]
      ]);
    let map5 = new Map(set5)
      console.log(set5,map5.has('bar1'))

      // console.log(man)
      // let man = 1
  </script>
</html>
